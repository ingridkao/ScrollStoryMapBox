(function(e){function t(t){for(var o,i,l=t[0],c=t[1],s=t[2],p=0,m=[];p<l.length;p++)i=l[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,s||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(o=!1)}o&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var o={},r={app:0},n=[];function i(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"ea86be89"}[e]+".js"}function l(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,o){a=r[e]=[t,o]}));t.push(a[2]=o);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=i(e);var s=new Error;n=function(t){c.onerror=c.onload=null,clearTimeout(p);var a=r[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",s.name="ChunkLoadError",s.type=o,s.request=n,a[1](s)}r[e]=void 0}};var p=setTimeout((function(){n({type:"timeout",target:c})}),12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=o,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(a,o,function(t){return e[t]}.bind(null,o));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/ScrollStoryMapBox/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var d=s;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0ce7":function(e,t,a){},3136:function(e,t,a){},"38a5":function(e,t,a){},"3f90":function(e,t,a){function o(e){if(e=Object.assign({},e),!(this instanceof o))throw new Error("MapboxLanguage needs to be called with the new keyword");this.setLanguage=this.setLanguage.bind(this),this._initialStyleUpdate=this._initialStyleUpdate.bind(this),this._defaultLanguage=e.defaultLanguage,this._isLanguageField=e.languageField||/^name_/,this._getLanguageField=e.getLanguageField||function(e){return"mul"===e?"name":"name_".concat(e)},this._languageSource=e.languageSource||null,this._languageTransform=e.languageTransform||function(e,t){return"ar"===t?n(e):r(e)},this._excludedLayerIds=e.excludedLayerIds||[],this.supportedLanguages=e.supportedLanguages||["ar","de","en","es","fr","it","ja","ko","mul","pt","ru","zh-Hans","zh-Hant"]}function r(e){var t=e.layers.map((function(e){if(!(e.layout||{})["text-field"])return e;var t=0;return"state_label"===e["source-layer"]&&(t=.15),"marine_label"===e["source-layer"]&&(/-lg/.test(e.id)&&(t=.25),/-md/.test(e.id)&&(t=.15),/-sm/.test(e.id)&&(t=.1)),"place_label"===e["source-layer"]&&(/-suburb/.test(e.id)&&(t=.15),/-neighbour/.test(e.id)&&(t=.1),/-islet/.test(e.id)&&(t=.01)),"airport_label"===e["source-layer"]&&(t=.01),"rail_station_label"===e["source-layer"]&&(t=.01),"poi_label"===e["source-layer"]&&/-scalerank/.test(e.id)&&(t=.01),"road_label"===e["source-layer"]&&(/-label-/.test(e.id)&&(t=.01),/-shields/.test(e.id)&&(t=.05)),Object.assign({},e,{layout:Object.assign({},e.layout,{"text-letter-spacing":t})})}));return Object.assign({},e,{layers:t})}function n(e){var t=e.layers.map((function(e){if(!(e.layout||{})["text-field"])return e;var t=0;return Object.assign({},e,{layout:Object.assign({},e.layout,{"text-letter-spacing":t})})}));return Object.assign({},e,{layers:t})}a("d81d"),a("fb6a"),a("4de4"),a("b64b"),a("ac1f"),a("1276");var i=/^\{name/;function l(e,t){var a=Array.isArray(t)&&"get"===t[0];return a&&i.test(t[1])&&console.warn("This plugin no longer supports the use of token syntax (e.g. {name}). Please use a get expression. See https://docs.mapbox.com/mapbox-gl-js/style-spec/expressions/ for more details."),a&&e.test(t[1])}function c(e,t,a){if(Array.isArray(t))for(var o=1;o<t.length;o++)Array.isArray(t[o])&&(l(e,t[o])&&(t[o][1]=a),c(e,t[o],a))}function s(e,t,a){if(l(e,t)&&(t[1]=a),c(e,t,a),"get"===t[0]&&"name"===t[1]){var o=t.slice(),r=["get",a];t=["coalesce",r,o]}return t}function p(e,t,a,o){return t.layout&&t.layout["text-field"]&&-1===o.indexOf(t.id)?Object.assign({},t,{layout:Object.assign({},t.layout,{"text-field":s(e,t.layout["text-field"],a)})}):t}function d(e){var t=Object.keys(e.sources).filter((function(t){var a=e.sources[t].url;return a&&a.indexOf("mapbox.mapbox-streets-v8")>-1||/mapbox-streets-v[1-9][1-9]/.test(a)}));if(!t.length)throw new Error('If using MapboxLanguage with a Mapbox style, the style must be based on vector tile version 8, e.g. "streets-v11"');return t[0]}function m(e){var t=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage,a=t.split("-"),o=t;return a.length>1&&(o=a[0]),e.indexOf(o)>-1?o:null}o.prototype.setLanguage=function(e,t){if(this.supportedLanguages.indexOf(t)<0)throw new Error("Language "+t+" is not supported");var a=this._languageSource||d(e);if(!a)return e;var o=this._getLanguageField(t),r=this._isLanguageField,n=this._excludedLayerIds,i=e.layers.map((function(e){return e.source===a?p(r,e,o,n):e})),l=Object.assign({},e,{layers:i});return this._languageTransform(l,t)},o.prototype._initialStyleUpdate=function(){var e=this._map.getStyle(),t=this._defaultLanguage||m(this.supportedLanguages);this._map.off("styledata",this._initialStyleUpdate),this._map.setStyle(this.setLanguage(e,t))},o.prototype.onAdd=function(e){return this._map=e,this._map.on("styledata",this._initialStyleUpdate),this._container=document.createElement("div"),this._container},o.prototype.onRemove=function(){this._map.off("styledata",this._initialStyleUpdate),this._map=void 0},"undefined"!==typeof e.exports?e.exports=o:window.MapboxLanguage=o},"3f98":function(e,t,a){},4313:function(e,t,a){"use strict";a("3f98")},"4dcf":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("7a23"),r={id:"nav"},n=Object(o["createTextVNode"])("騎噗噗上下班"),i=Object(o["createStaticVNode"])('<footer id="main_footer"><p>查閱完圖表致死事故以機車為主，行人次之，覺得好像坐大眾運輸或是汽車還是比較安全的選擇...＝口＝</p><p>延伸連結：</p><a target="_blank" href="https://geojson.io/">手繪路線工具</a><a target="_blank" href="https://www.ntpc.gov.tw/ch/home.jsp?id=f165f60bfe5a0a96">平均降雨日（或許與事故數據交叉計算會得到更準確的機率比）</a><a target="_blank" href="https://www-ws.gov.taipei/Download.ashx?u=LzAwMS9VcGxvYWQvNjExL3JlbGZpbGUvMjgxOTQvODE3NzUxMC80MDFjZmY0Yy01Njc3LTRiYTktOTNmYy1lYTBjYzdmMmNmNjkucGRm&amp;n=6Ie65YyX5biCMTA45bm05Lqk6YCa5LqL5pWF5YiG5p6Q5aCx5ZGKLnBkZg%3D%3D&amp;icon=.pdf">臺北市108 年交通事故分析報告</a><a target="_blank" href="https://www-ws.gov.taipei/Download.ashx?u=LzAwMS9VcGxvYWQvNjExL3JlbGZpbGUvMjgxOTQvODQwODEwNy9hOTI4YjJhNC1mZjMxLTRhNDMtYTNkMS0yYmIyOWJmMDcyZTUucGRm&amp;n=6Ie65YyX5biCMTA55bm05Lqk6YCa5LqL5pWF5YiG5p6Q5aCx5ZGKLnBkZg%3D%3D&amp;icon=..pdf">臺北市109 年交通事故分析報告</a></footer>',1);function l(e,t){var a=Object(o["resolveComponent"])("router-link"),l=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",r,[Object(o["createVNode"])(a,{to:"/"},{default:Object(o["withCtx"])((function(){return[n]})),_:1})]),Object(o["createVNode"])(l),i],64)}a("6b2c");var c=a("6b0d"),s=a.n(c);const p={},d=s()(p,[["render",l]]);var m=d,u=(a("d3b7"),a("3ca3"),a("ddb0"),a("6c02")),g={id:"home"},b={class:"main__scrollama",ref:"scrollama_container"},y={class:"step","data-step-no":"0"},h=Object(o["createElementVNode"])("p",null,"\b在台北上下班通勤有較多的交通運輸選擇項目，如捷運、公車、ubike、計程車以及自行開車；選擇騎車上下班的主要優點除了減少和人群接觸也節省轉車時間，但也增添了突發事故的風險。",-1),f=Object(o["createElementVNode"])("p",null,"底圖是2019年台北市交通局提供的事故統計資料2019年台北市交通局提供的事故統計資料，根據數據熱區可以看出事故經常發生在主要幹道上的路口。",-1),x=Object(o["createElementVNode"])("p",null,"建議使用電腦開啟，來取得理想的互動效果",-1),w=Object(o["createElementVNode"])("div",{class:"scroll-hint"},null,-1),k={class:"step","data-step-no":"1"},v=Object(o["createElementVNode"])("p",null,"將這兩年上下班常行駛的道路軌跡疊加在地圖之上，可以發現行經路線風險差異，似乎在中山區那一段對於我來說是最容易發生事故的區段。",-1),z=Object(o["createElementVNode"])("div",{class:"scroll-hint"},null,-1),_={class:"step","data-step-no":"2"},j=Object(o["createElementVNode"])("p",null,"前言提到的車禍其中一次是在下班行駛到橋下，光線昏暗且當晚大雨視線不佳前面的機車突然緊急煞車因而摔車；另一次是在上班途中行駛在巷口被右方來車撞上。",-1),O=Object(o["createElementVNode"])("p",null,"一般來說氣候不佳會導致視線不佳以及煞車不及的事故發生，但統計數據不同於預期，可能是因為駕駛人在晴朗天氣之下反而不注意道路，相對於陰雨更容易讓事故發生。",-1),S={class:"step","data-step-no":"3"},L=Object(o["createElementVNode"])("p",null,"以2019年交通事故發生的時間趨勢，似乎在日照較短的冬季較容易發生車禍。",-1),C=Object(o["createTextVNode"])(" 點擊圖表上圓點與地圖互動。 "),M=Object(o["createElementVNode"])("div",{class:"scroll-hint"},null,-1),B={class:"step","data-step-no":"4"},N=Object(o["createElementVNode"])("p",null,"這幾次車禍的地點都在巷口或街口，對於自己的車輛保養及駕駛當下的注意力狀態需要再多注意，希望地方政府可以對路況妥善優化，像是車輛隨意臨停問題、巷弄的反射鏡髒污處理及架設。",-1),P=Object(o["createElementVNode"])("p",null,"數據指出大部分的事故多發生在四岔路、直路及三岔路，事故嚴重程度區分為三種：",-1),T=Object(o["createElementVNode"])("ul",null,[Object(o["createElementVNode"])("li",null,"Ａ１類指造成人員當場或二十四小時內死亡之交通事故"),Object(o["createElementVNode"])("li",null,"Ａ２類指造成人員受傷或超過二十四小時死亡之交通事故"),Object(o["createElementVNode"])("li",null,"Ａ３類指僅有車輛財物受損之交通事故")],-1),R={class:"step","data-step-no":"5"},E=Object(o["createElementVNode"])("p",null,"由於數據中有車禍致死的欄位（24小時內死亡、2-30日內死亡），擷取這一部分數據並分類事故當下的交通類型，篩選出來的圖表如下圖，由於區域較窄建議可以點擊圖表下方的圖示，篩選出想要查看的車種。",-1);function V(e,t,a,r,n,i){var l=Object(o["resolveComponent"])("MapBox"),c=Object(o["resolveComponent"])("DistLineChart"),s=Object(o["resolveComponent"])("WeatherPieChart"),p=Object(o["resolveComponent"])("HistoryLineChart"),d=Object(o["resolveComponent"])("RoadTypeChart"),m=Object(o["resolveComponent"])("DeathCarTypeChart");return Object(o["openBlock"])(),Object(o["createElementBlock"])("main",g,[Object(o["createVNode"])(l,{"curr-step":n.currStep,opacity:n.currStepProgress,"time-interval":n.activeTimeInterval,onUpdate:i.updateActiveTimeInterval},null,8,["curr-step","opacity","time-interval","onUpdate"]),Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",y,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h6",{style:Object(o["normalizeStyle"])({color:n.sectionColor[0]})},"01_Commute",4),h,f,x,w])]),Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h6",{style:Object(o["normalizeStyle"])({color:n.sectionColor[1]})},"02_District",4),v,Object(o["createVNode"])(c),z])]),Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h6",{style:Object(o["normalizeStyle"])({color:n.sectionColor[2]})},"03_Weather",4),j,Object(o["createVNode"])(s),O])]),Object(o["createElementVNode"])("div",S,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h6",{style:Object(o["normalizeStyle"])({color:n.sectionColor[3]})},"04_Season",4),L,Object(o["createVNode"])(p,{onUpdate:i.updateActiveTimeInterval},null,8,["onUpdate"]),Object(o["createElementVNode"])("p",null,[C,Object(o["withDirectives"])(Object(o["createElementVNode"])("span",null,[Object(o["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(e){return n.activeTimeInterval={}})},"Clear"),Object(o["createTextVNode"])(" 篩選出"+Object(o["toDisplayString"])(n.activeTimeInterval.category)+"事故有"+Object(o["toDisplayString"])(n.activeTimeInterval.count)+"件。 ",1)],512),[[o["vShow"],n.activeTimeInterval.category&&n.activeTimeInterval.count]])]),M])]),Object(o["createElementVNode"])("div",B,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h6",{style:Object(o["normalizeStyle"])({color:n.sectionColor[4]})},"05_Road",4),N,P,T,Object(o["createVNode"])(d)])]),Object(o["createElementVNode"])("div",R,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h6",{style:Object(o["normalizeStyle"])({color:n.sectionColor[6]})},"06_epilogue",4),E,Object(o["createVNode"])(m)])])],512)])}a("a630"),a("5abe");var A=a("d11d"),U=a.n(A),D=function(e){return Object(o["pushScopeId"])("data-v-2753e5f0"),e=e(),Object(o["popScopeId"])(),e},I={id:"mapbox_container"},Y=D((function(){return Object(o["createElementVNode"])("div",{id:"mapboxBox"},null,-1)}));function W(e,t,a,r,n,i){var l=Object(o["resolveComponent"])("Loading");return Object(o["openBlock"])(),Object(o["createElementBlock"])("main",I,[Object(o["createElementVNode"])("div",{id:"mapboxBg",style:Object(o["normalizeStyle"])({opacity:a.opacity})},null,4),Y,Object(o["createVNode"])(l,{"load-start":n.mapLoading,"curr-step":a.currStep},null,8,["load-start","curr-step"])])}var H=a("5530"),F=(a("a9e3"),a("e192")),G=a.n(F),Z=a("bc3a"),J=a.n(Z),$=(a("ac6d"),a("ade3")),Q="#191919",q={id:"3d-buildings",source:"composite","source-layer":"building",type:"fill-extrusion",minzoom:14,paint:{"fill-extrusion-color":["case",["boolean",["feature-state","hover"],!1],"#ff0000",Q],"fill-extrusion-height":["interpolate",["linear"],["zoom"],1,100,14,["get","height"]],"fill-extrusion-base":["get","min_height"],"fill-extrusion-opacity":.8}},X={id:"taipei_town",source:"taipei_town",type:"symbol",layout:{"text-field":["to-string",["get","TNAME"]],"text-size":13},paint:{"text-color":"#d5d5d5","text-opacity":["interpolate",["linear"],["zoom"],10.99,0,11,1,16.49,1,16.5,0]}},K={id:"taipei_village",source:"taipei_village",type:"symbol",layout:{"text-field":["to-string",["get","VNAME"]],"text-size":12},paint:{"text-color":"#bdbdbd","text-opacity":["interpolate",["linear"],["zoom"],16.24,0,16.25,1]}},ee=["interpolate",["linear"],["zoom"],12.99,1,14,1,22,6],te=["interpolate",["linear"],["zoom"],12.99,0,14,1,22,6],ae={id:"taipei_accident",source:"taipei_accident",type:"circle",paint:{"circle-color":"#32d0c2","circle-radius":te}},oe={"heatmap-intensity":["interpolate",["linear"],["zoom"],10.99,0,11,.04,15,.6],"heatmap-radius":10},re={"heatmap-intensity":["interpolate",["linear"],["zoom"],10.99,0,11,.06,15,.9],"heatmap-radius":15},ne={id:"taipei_accident_heat_layer",source:"taipei_accident",type:"heatmap",paint:Object(H["a"])(Object(H["a"])({},oe),{},{"heatmap-opacity":["interpolate",["linear"],["zoom"],11,.5,13.5,.3],"heatmap-color":["step",["heatmap-density"],"hsla(240, 0%, 100%, 0)",.4,"hsl(0, 0%, 13%)",.6,"hsl(183, 0%, 52%)",1,"hsl(177, 0%, 96%)"]})},ie={id:"my_accident",source:"my_accident",type:"circle",paint:{"circle-color":"#ad5a5a","circle-radius":4},layout:{visibility:"none"}},le=Object($["a"])({type:"line",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#ddd","line-opacity":.8,"line-width":["interpolate",["linear"],["zoom"],12,3,20,2]}},"layout",{visibility:"none"}),ce={version:8,name:"Basemap-black_NEW",metadata:{"mapbox:type":"default","mapbox:origin":"monochrome-dark-v1","mapbox:sdk-support":{android:"9.3.0",ios:"5.10.0",js:"1.10.0"},"mapbox:autocomposite":!0,"mapbox:groups":{"Road network, traffic-and-closures":{name:"Road network, traffic-and-closures",collapsed:!1},"Transit, transit-labels":{name:"Transit, transit-labels",collapsed:!0},"Administrative boundaries, admin":{name:"Administrative boundaries, admin",collapsed:!0},"Land & water, built":{name:"Land & water, built",collapsed:!0},"Transit, bridges":{name:"Transit, bridges",collapsed:!0},"Transit, surface":{name:"Transit, surface",collapsed:!0},"Land & water, land":{name:"Land & water, land",collapsed:!1},"Road network, bridges":{name:"Road network, bridges",collapsed:!0},"Road network, tunnels":{name:"Road network, tunnels",collapsed:!0},"Road network, road-labels":{name:"Road network, road-labels",collapsed:!1},"Buildings, built":{name:"Buildings, built",collapsed:!0},"Natural features, natural-labels":{name:"Natural features, natural-labels",collapsed:!0},"Road network, surface":{name:"Road network, surface",collapsed:!0},"Place labels, place-labels":{name:"Place labels, place-labels",collapsed:!0},"Point of interest labels, poi-labels":{name:"Point of interest labels, poi-labels",collapsed:!0},"Road network, tunnels-case":{name:"Road network, tunnels-case",collapsed:!0},"Transit, built":{name:"Transit, built",collapsed:!0},"Road network, surface-icons":{name:"Road network, surface-icons",collapsed:!0},"Land & water, water":{name:"Land & water, water",collapsed:!0}},"mapbox:uiParadigm":"layers","mapbox:print":{units:"cm",width:21.59,height:27.94,resolution:300,format:"png"},"mapbox:decompiler":{id:"ckjau5sv0033c19prkctc6byy",componentVersion:"6.0.0",strata:[{id:"monochrome-dark-v1",order:[["land-and-water","land"],"land Mask","contour",["land-and-water","water"],["land-and-water","built"],["transit","built"],["buildings","built"],["road-network","tunnels-case"],["road-network","tunnels"],["transit","ferries"],["road-network","surface"],["transit","surface"],["road-network","surface-icons"],["road-network","bridges"],["transit","bridges"],["road-network","traffic-and-closures"],["buildings","extruded"],["transit","elevated"],["admin-boundaries","admin"],["buildings","building-labels"],"Building",["road-network","road-labels"],["transit","ferry-aerialway-labels"],["natural-features","natural-labels"],["point-of-interest-labels","poi-labels"],["transit","transit-labels"],["place-labels","place-labels"]]}],overrides:{"land-and-water":{landuse:{paint:{"fill-color":{remove:!0}}},land:{paint:{"background-color":["interpolate",["linear"],["zoom"],11,"hsla(0, 0%, 0%, 0)",13,"#000000"]}},water:{paint:{"fill-color":"hsl(0, 0%, 15%)"}},"wetland-pattern":{paint:{"fill-opacity":["interpolate",["linear"],["zoom"],10,0,10.5,0]}}},"road-network":{"road-label-navigation":{layout:{"text-field":["coalesce",["get","name_zh-Hant"],["get","name"]]},paint:{"text-color":"hsl(0, 0%, 54%)"}},"road-secondary-tertiary-navigation":{paint:{"line-color":"#303030"}},"road-street-navigation":{paint:{"line-color":"#303030"}}},"point-of-interest-labels":{},"place-labels":{"settlement-major-label":{paint:{"text-opacity":0}},"settlement-subdivision-label":{paint:{"text-opacity":0}},"settlement-minor-label":{paint:{"text-opacity":0}}},transit:{"airport-label":{paint:{"text-opacity":0}}},"natural-features":{"natural-point-label":{paint:{"text-opacity":0}},"waterway-label":{layout:{"text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"text-opacity":0}},"natural-line-label":{layout:{"text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"text-opacity":0}},"water-point-label":{layout:{"text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"text-opacity":0}}}},components:{"land-and-water":"6.0.0",buildings:"6.0.0","road-network":"6.0.0","admin-boundaries":"6.0.0","natural-features":"6.0.0","point-of-interest-labels":"6.0.0",transit:"6.0.0","place-labels":"6.0.0"},propConfig:{"land-and-water":{"color-base":"#000000",transitionLandOnZoom:!0,landStyle:"Outdoors",waterStyle:"Shadow",landcover:!0,landuse:!0,"color-greenspace":"hsl(185, 0%, 46%)"},buildings:{"color-base":"#000000",houseNumbers:!1,"3D":!1,haloWidth:1.9,underground:!1},"admin-boundaries":{"color-base":"#000000"},"natural-features":{"color-base":"#000000",labelStyle:"Text only",density:4},"point-of-interest-labels":{"color-base":"#000000",labelStyle:"Text only",density:1,"color-greenspace":"hsl(185, 0%, 46%)"},transit:{"color-base":"#000000",aerialways:!1,ferries:!1,transitLabels:!1,railwayStyle:!1,"icon-color-scheme":"monochrome"},"place-labels":{"color-base":"#000000"}}}},center:[121.56137441007775,25.042593623591785],zoom:14.506492208470563,bearing:25.405152119092573,pitch:67.49798204204666,sources:{composite:{url:"mapbox://mapbox.mapbox-terrain-v2,mapbox.mapbox-streets-v8",type:"vector"}},sprite:"mapbox://sprites/mapbox/dark-v10",glyphs:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",layers:[{id:"land",type:"background",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land"},layout:{},paint:{"background-color":["interpolate",["linear"],["zoom"],11,"hsla(0, 0%, 0%, 0)",13,"#000000"]}},{id:"landcover-outdoors",type:"fill",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land"},source:"composite","source-layer":"landcover",maxzoom:12,layout:{},paint:{"fill-color":["match",["get","class"],"snow","rgb(94, 94, 94)","hsl(167, 0%, 0%)"],"fill-opacity":["interpolate",["exponential",1.5],["zoom"],2,.3,12,0],"fill-antialias":!1}},{id:"national-park",type:"fill",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land"},source:"composite","source-layer":"landuse_overlay",minzoom:5,filter:["==",["get","class"],"national_park"],layout:{},paint:{"fill-color":"hsl(185, 0%, 46%)","fill-opacity":["interpolate",["linear"],["zoom"],5,0,6,.75,10,.35]}},{id:"national-park_tint-band",type:"line",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land"},source:"composite","source-layer":"landuse_overlay",minzoom:9,filter:["==",["get","class"],"national_park"],layout:{"line-cap":"round"},paint:{"line-color":"hsl(185, 1%, 41%)","line-width":["interpolate",["exponential",1.4],["zoom"],9,1,14,8],"line-offset":["interpolate",["exponential",1.4],["zoom"],9,0,14,-2.5],"line-opacity":["interpolate",["linear"],["zoom"],9,0,10,.75],"line-blur":3}},{id:"landuse",type:"fill",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land"},source:"composite","source-layer":"landuse",minzoom:5,filter:["match",["get","class"],["park","airport","glacier","pitch","sand","facility"],!0,["agriculture","wood","grass","scrub"],!0,"cemetery",!0,!1],layout:{},paint:{"fill-opacity":["interpolate",["linear"],["zoom"],5,0,6,["match",["get","class"],["agriculture","wood","grass","scrub"],0,"glacier",.5,1],15,["match",["get","class"],"agriculture",.75,["wood","glacier"],.5,"grass",.4,"scrub",.2,1]]}},{id:"pitch-outline",type:"line",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land"},source:"composite","source-layer":"landuse",minzoom:15,filter:["==",["get","class"],"pitch"],layout:{},paint:{"line-color":"hsl(167, 0%, 0%)"}},{id:"land Mask",type:"background",layout:{},paint:{"background-color":["interpolate",["linear"],["zoom"],0,"hsla(185, 0%, 100%, 0.28)",18,"hsla(185, 0%, 99%, 0.76)",22,"hsl(185, 0%, 99%)"],"background-opacity":0,"background-pattern":"airport-11"}},{id:"contour",type:"fill-extrusion",source:"composite","source-layer":"contour",layout:{},paint:{"fill-extrusion-height":["interpolate",["linear"],["get","ele"],20,0,8840,8840],"fill-extrusion-color":"hsla(0, 0%, 4%, 0.82)"}},{id:"waterway-shadow",type:"line",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, water"},source:"composite","source-layer":"waterway",minzoom:8,layout:{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":"round"},paint:{"line-color":"rgb(0, 0, 0)","line-width":["interpolate",["exponential",1.3],["zoom"],9,["match",["get","class"],["canal","river"],.1,0],20,["match",["get","class"],["canal","river"],8,3]],"line-translate":["interpolate",["exponential",1.2],["zoom"],7,["literal",[0,0]],16,["literal",[-1,-1]]],"line-translate-anchor":"viewport","line-opacity":["interpolate",["linear"],["zoom"],8,0,8.5,1]}},{id:"water-shadow",type:"fill",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, water"},source:"composite","source-layer":"water",layout:{},paint:{"fill-color":"rgb(0, 0, 0)","fill-translate":["interpolate",["exponential",1.2],["zoom"],7,["literal",[0,0]],16,["literal",[-1,-1]]],"fill-translate-anchor":"viewport"}},{id:"waterway",type:"line",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, water"},source:"composite","source-layer":"waterway",minzoom:8,layout:{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":"round"},paint:{"line-color":"rgb(26, 26, 26)","line-width":["interpolate",["exponential",1.3],["zoom"],9,["match",["get","class"],["canal","river"],.1,0],20,["match",["get","class"],["canal","river"],8,3]],"line-opacity":["interpolate",["linear"],["zoom"],8,0,8.5,1]}},{id:"water",type:"fill",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, water"},source:"composite","source-layer":"water",layout:{},paint:{"fill-color":"hsl(0, 0%, 15%)"}},{id:"wetland",type:"fill",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, water"},source:"composite","source-layer":"landuse_overlay",minzoom:5,filter:["match",["get","class"],["wetland","wetland_noveg"],!0,!1],paint:{"fill-color":"rgb(41, 41, 41)","fill-opacity":["interpolate",["linear"],["zoom"],10,.25,10.5,.15]}},{id:"wetland-pattern",type:"fill",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, water"},source:"composite","source-layer":"landuse_overlay",minzoom:5,filter:["match",["get","class"],["wetland","wetland_noveg"],!0,!1],layout:{},paint:{"fill-color":"rgb(41, 41, 41)","fill-opacity":["interpolate",["linear"],["zoom"],10,0,10.5,0],"fill-translate-anchor":"viewport"}},{id:"land-structure-polygon",type:"fill",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, built"},source:"composite","source-layer":"structure",minzoom:13,filter:["all",["==",["geometry-type"],"Polygon"],["==",["get","class"],"land"]],layout:{},paint:{"fill-color":"rgb(36, 36, 36)"}},{id:"land-structure-line",type:"line",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, built"},source:"composite","source-layer":"structure",minzoom:13,filter:["all",["==",["geometry-type"],"LineString"],["==",["get","class"],"land"]],layout:{"line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.99],["zoom"],14,.75,20,40],"line-color":"rgb(36, 36, 36)"}},{id:"aeroway-polygon",type:"fill",metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, built"},source:"composite","source-layer":"aeroway",minzoom:11,filter:["all",["==",["geometry-type"],"Polygon"],["match",["get","type"],["runway","taxiway","helipad"],!0,!1]],layout:{},paint:{"fill-color":"rgb(59, 59, 59)","fill-opacity":["interpolate",["linear"],["zoom"],11,0,11.5,1]}},{id:"aeroway-line",type:"line",metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, built"},source:"composite","source-layer":"aeroway",minzoom:9,filter:["==",["geometry-type"],"LineString"],layout:{},paint:{"line-color":"rgb(59, 59, 59)","line-width":["interpolate",["exponential",1.5],["zoom"],9,["match",["get","type"],"runway",1,.5],18,["match",["get","type"],"runway",80,20]]}},{id:"building-outline",type:"line",metadata:{"mapbox:featureComponent":"buildings","mapbox:group":"Buildings, built"},source:"composite","source-layer":"building",minzoom:15,filter:["all",["!=",["get","type"],"building:part"],["==",["get","underground"],"false"]],layout:{},paint:{"line-color":"rgb(26, 26, 26)","line-width":["interpolate",["exponential",1.5],["zoom"],15,.75,20,3],"line-opacity":["interpolate",["linear"],["zoom"],15,0,16,1]}},{id:"building",type:"fill",metadata:{"mapbox:featureComponent":"buildings","mapbox:group":"Buildings, built"},source:"composite","source-layer":"building",minzoom:15,filter:["all",["!=",["get","type"],"building:part"],["==",["get","underground"],"false"]],layout:{},paint:{"fill-color":["interpolate",["linear"],["zoom"],15,"rgb(38, 38, 38)",16,"rgb(31, 31, 31)"],"fill-opacity":["interpolate",["linear"],["zoom"],15,0,16,1],"fill-outline-color":"rgb(26, 26, 26)"}},{id:"tunnel-minor-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels-case"},source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["secondary_link","tertiary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],15,.75,18,1.5],"line-color":"rgb(64, 64, 64)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],15,["match",["get","class"],"track",1,.5],18,10],"line-dasharray":[3,3]}},{id:"tunnel-street-low-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels-case"},source:"composite","source-layer":"road",minzoom:13,maxzoom:14,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,14,2],"line-color":"rgb(31, 31, 31)"}},{id:"tunnel-street-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels-case"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.5,18,2],"line-color":"rgb(64, 64, 64)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,20],"line-dasharray":[3,3]}},{id:"tunnel-secondary-tertiary-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels-case"},source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":"rgb(64, 64, 64)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],10,.75,18,28],"line-dasharray":[3,3]}},{id:"tunnel-primary-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels-case"},source:"composite","source-layer":"road",minzoom:10,filter:["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":"rgb(64, 64, 64)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],10,1.125,18,32],"line-dasharray":[3,3]}},{id:"tunnel-major-link-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels-case"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":"rgb(64, 64, 64)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20],"line-dasharray":[3,3]}},{id:"tunnel-motorway-trunk-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels-case"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":"rgb(64, 64, 64)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32],"line-dasharray":[3,3]}},{id:"tunnel-major-link-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20],"line-color":"rgb(31, 31, 31)"}},{id:"tunnel-minor-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["secondary_link","tertiary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],15,["match",["get","class"],"track",1,.5],18,10],"line-color":"rgb(31, 31, 31)"}},{id:"tunnel-street-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,14,2,18,20],"line-color":"rgb(31, 31, 31)"}},{id:"tunnel-secondary-tertiary-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,.75,18,28],"line-color":"rgb(31, 31, 31)"}},{id:"tunnel-primary-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1.125,18,32],"line-color":"rgb(31, 31, 31)"}},{id:"tunnel-motorway-trunk-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32],"line-color":"rgb(31, 31, 31)"}},{id:"road-minor-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:15,filter:["all",["match",["get","class"],["secondary_link","tertiary_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],15,.75,18,1.5],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],15,["match",["get","class"],"track",1,.5],18,10]}},{id:"road-street-low-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:11,maxzoom:14,filter:["all",["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,14,2],"line-color":"rgb(56, 56, 56)"}},{id:"road-street-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.5,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,20]}},{id:"road-secondary-tertiary-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:12,filter:["all",["match",["get","class"],["secondary","tertiary"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],10,.75,18,28]}},{id:"road-primary-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","class"],"primary"],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],10,1.125,18,32]}},{id:"road-major-link-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20]}},{id:"road-motorway-trunk-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["match",["get","class"],["motorway","trunk"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32]}},{id:"road-major-link-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20],"line-color":"rgb(56, 56, 56)"}},{id:"road-minor-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:15,filter:["all",["match",["get","class"],["secondary_link","tertiary_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],15,["match",["get","class"],"track",1,.5],18,10],"line-color":"rgb(56, 56, 56)"}},{id:"road-street-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,14,2,18,20],"line-color":"#303030"}},{id:"road-secondary-tertiary-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:8,filter:["all",["match",["get","class"],["secondary","tertiary"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":["step",["zoom"],"miter",11,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,.175,10,.75,18,28],"line-color":"#303030"}},{id:"road-primary-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:6,filter:["all",["==",["get","class"],"primary"],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":["step",["zoom"],"miter",11,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1.125,18,32],"line-color":"rgb(56, 56, 56)"}},{id:"road-motorway-trunk-case-low-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:5,maxzoom:13,filter:["all",["step",["zoom"],["==",["get","class"],"motorway"],6,["match",["get","class"],["motorway","trunk"],!0,!1]],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32]}},{id:"road-motorway-trunk-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:5,filter:["all",["match",["get","class"],["motorway","trunk"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",8,"round"],"line-join":["step",["zoom"],"miter",8,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32],"line-color":"rgb(56, 56, 56)"}},{id:"road-rail",type:"line",metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, surface"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["match",["get","class"],["major_rail","minor_rail"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1]],layout:{"line-join":"round"},paint:{"line-color":"rgb(31, 31, 31)","line-width":["interpolate",["exponential",1.5],["zoom"],14,.5,20,1]}},{id:"bridge-minor-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["secondary_link","tertiary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],15,.75,18,1.5],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],15,["match",["get","class"],"track",1,.5],18,10]}},{id:"bridge-street-low-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,maxzoom:14,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,14,2],"line-color":"rgb(56, 56, 56)"}},{id:"bridge-street-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.5,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,20]}},{id:"bridge-secondary-tertiary-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],10,.75,18,28]}},{id:"bridge-primary-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","structure"],"bridge"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],10,1.125,18,32]}},{id:"bridge-major-link-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20]}},{id:"bridge-motorway-trunk-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk"],!0,!1],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32]}},{id:"bridge-major-link-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20],"line-color":"rgb(56, 56, 56)"}},{id:"bridge-minor-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["secondary_link","tertiary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],15,["match",["get","class"],"track",1,.5],18,10],"line-color":"rgb(56, 56, 56)"}},{id:"bridge-street-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,14,2,18,20],"line-color":"rgb(56, 56, 56)"}},{id:"bridge-secondary-tertiary-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":["step",["zoom"],"miter",11,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,.75,18,28],"line-color":"rgb(56, 56, 56)"}},{id:"bridge-primary-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1.125,18,32],"line-color":"rgb(56, 56, 56)"}},{id:"bridge-motorway-trunk-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk"],!0,!1],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32],"line-color":"rgb(56, 56, 56)"}},{id:"bridge-major-link-2-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20]}},{id:"bridge-motorway-trunk-2-case-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":"rgb(31, 31, 31)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32]}},{id:"bridge-major-link-2-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20],"line-color":"rgb(56, 56, 56)"}},{id:"bridge-motorway-trunk-2-navigation",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32],"line-color":"rgb(56, 56, 56)"}},{id:"bridge-rail",type:"line",metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["major_rail","minor_rail"],!0,!1]],layout:{"line-join":"round"},paint:{"line-color":"rgb(31, 31, 31)","line-width":["interpolate",["exponential",1.5],["zoom"],14,.5,20,1]}},{id:"admin-1-boundary-bg",type:"line",metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},source:"composite","source-layer":"admin",minzoom:7,filter:["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{"line-join":"bevel"},paint:{"line-color":["interpolate",["linear"],["zoom"],8,"rgb(26, 26, 26)",16,"rgb(26, 26, 26)"],"line-width":["interpolate",["linear"],["zoom"],7,3.75,12,5.5],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,.75],"line-dasharray":[1,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,8,3]}},{id:"admin-0-boundary-bg",type:"line",metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{},paint:{"line-width":["interpolate",["linear"],["zoom"],3,3.5,10,8],"line-color":"rgb(26, 26, 26)","line-opacity":["interpolate",["linear"],["zoom"],3,0,4,.5],"line-blur":["interpolate",["linear"],["zoom"],3,0,10,2]}},{id:"admin-1-boundary",type:"line",metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},source:"composite","source-layer":"admin",minzoom:2,filter:["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]],"line-width":["interpolate",["linear"],["zoom"],7,.75,12,1.5],"line-opacity":["interpolate",["linear"],["zoom"],2,0,3,1],"line-color":["interpolate",["linear"],["zoom"],3,"rgb(59, 59, 59)",7,"rgb(92, 92, 92)"]}},{id:"admin-0-boundary",type:"line",metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==",["get","admin_level"],0],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"rgb(99, 99, 99)","line-width":["interpolate",["linear"],["zoom"],3,.5,10,2],"line-dasharray":[10,0]}},{id:"admin-0-boundary-disputed",type:"line",metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==",["get","disputed"],"true"],["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{"line-join":"round"},paint:{"line-color":"rgb(99, 99, 99)","line-width":["interpolate",["linear"],["zoom"],3,.5,10,2],"line-dasharray":["step",["zoom"],["literal",[3.25,3.25]],6,["literal",[2.5,2.5]],7,["literal",[2,2.25]],8,["literal",[1.75,2]]]}},{id:"road-intersection",type:"symbol",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","class"],"intersection"],["has","name"]],layout:{"text-field":["coalesce",["get","name_zh-Hant"],["get","name"]],"icon-image":"intersection","icon-text-fit":"both","icon-text-fit-padding":[1,2,1,2],"text-size":12,"text-font":["DIN Pro Bold","Arial Unicode MS Bold"]},paint:{"text-color":"rgb(13, 13, 13)"}},{id:"road-label-navigation",type:"symbol",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},source:"composite","source-layer":"road",minzoom:13,filter:["step",["zoom"],["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],!0,!1],15.25,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","street"],!0,!1],16,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","street","street_limited"],!0,!1],16.5,["match",["get","class"],["pedestrian","golf","ferry","aerialway","path","track","service"],!1,!0]],layout:{"text-size":["interpolate",["linear"],["zoom"],10,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],10,["motorway_link","trunk_link","primary_link","secondary_link","tertiary_link","street","street_limited"],8,6.5],18,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],16,["motorway_link","trunk_link","primary_link","secondary_link","tertiary_link","street","street_limited"],14,13],22,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],50,["motorway_link","trunk_link","primary_link","secondary_link","tertiary_link","street","street_limited"],40,30]],"text-max-angle":30,"symbol-spacing":["interpolate",["linear"],["zoom"],10,150,18,450,22,1500],"text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_zh-Hant"],["get","name"]],"text-letter-spacing":.01},paint:{"text-color":"hsl(0, 0%, 54%)","text-halo-color":"rgb(0, 0, 0)","text-halo-width":1,"text-halo-blur":1}},{id:"waterway-label",type:"symbol",metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},source:"composite","source-layer":"natural_label",minzoom:13,filter:["all",["match",["get","class"],["canal","river","stream"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_canal","disputed_river","disputed_stream"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"LineString"]],layout:{"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"text-max-angle":30,"symbol-spacing":["interpolate",["linear",1],["zoom"],15,250,17,400],"text-size":["interpolate",["linear"],["zoom"],13,12,18,16],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"text-color":"rgb(84, 84, 84)","text-opacity":0}},{id:"natural-line-label",type:"symbol",metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},source:"composite","source-layer":"natural_label",minzoom:4,filter:["all",["match",["get","class"],["glacier","landform"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_glacier","disputed_landform"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"LineString"],["<=",["get","filterrank"],4]],layout:{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"text-max-angle":30,"text-field":["coalesce",["get","name_en"],["get","name"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport"},paint:{"text-halo-width":.5,"text-halo-color":"rgb(0, 0, 0)","text-halo-blur":.5,"text-color":"rgb(163, 163, 163)","text-opacity":0}},{id:"natural-point-label",type:"symbol",metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},source:"composite","source-layer":"natural_label",minzoom:4,filter:["all",["match",["get","class"],["dock","glacier","landform","water_feature","wetland"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_dock","disputed_glacier","disputed_landform","disputed_water_feature","disputed_wetland"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"Point"],["<=",["get","filterrank"],4]],layout:{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":"","text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["literal",[0,0]],"text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":"rgb(0, 0, 0)","text-halo-width":.5,"text-halo-blur":.5,"text-color":"rgb(163, 163, 163)","text-opacity":0}},{id:"water-line-label",type:"symbol",metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},source:"composite","source-layer":"natural_label",filter:["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"LineString"]],layout:{"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12],18,["step",["get","sizerank"],18,9,16]],"text-max-angle":30,"text-letter-spacing":["match",["get","class"],"ocean",.25,["sea","bay"],.15,0],"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"text-color":"rgb(84, 84, 84)"}},{id:"water-point-label",type:"symbol",metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},source:"composite","source-layer":"natural_label",filter:["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"Point"]],layout:{"text-line-height":1.3,"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12]],"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","class"],"ocean",.25,["bay","sea"],.15,.01],"text-max-width":["match",["get","class"],"ocean",4,"sea",5,["bay","water"],7,10]},paint:{"text-color":"rgb(84, 84, 84)","text-opacity":0}},{id:"poi-label",type:"symbol",metadata:{"mapbox:featureComponent":"point-of-interest-labels","mapbox:group":"Point of interest labels, poi-labels"},source:"composite","source-layer":"poi_label",minzoom:6,filter:["<=",["get","filterrank"],["+",["step",["zoom"],0,16,1,17,2],1]],layout:{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":"","text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":[0,0],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"text-halo-color":"rgb(0, 0, 0)","text-halo-width":.5,"text-halo-blur":.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"rgb(92, 92, 92)",5,"rgb(130, 130, 130)"],17,["step",["get","sizerank"],"rgb(92, 92, 92)",13,"rgb(130, 130, 130)"]],"text-opacity":0}},{id:"airport-label",type:"symbol",metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, transit-labels"},source:"composite","source-layer":"airport_label",minzoom:8,filter:["match",["get","class"],["military","civil"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_military","disputed_civil"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],layout:{"text-line-height":1.1,"text-size":["step",["get","sizerank"],18,9,12],"icon-image":["step",["get","sizerank"],["concat",["get","maki"],"-15"],9,["concat",["get","maki"],"-11"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":[0,.75],"text-rotation-alignment":"viewport","text-anchor":"top","text-field":["step",["get","sizerank"],["coalesce",["get","name_en"],["get","name"]],15,["get","ref"]],"text-letter-spacing":.01,"text-max-width":9},paint:{"text-color":"rgb(163, 163, 163)","text-halo-color":"rgb(0, 0, 0)","text-halo-width":1,"text-opacity":0}},{id:"settlement-subdivision-label",type:"symbol",metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},source:"composite","source-layer":"place_label",minzoom:10,maxzoom:15,filter:["all",["match",["get","class"],"settlement_subdivision",["match",["get","worldview"],["all","US"],!0,!1],"disputed_settlement_subdivision",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["<=",["get","filterrank"],4]],layout:{"text-field":["coalesce",["get","name_en"],["get","name"]],"text-transform":"uppercase","text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"text-letter-spacing":["match",["get","type"],"suburb",.15,.1],"text-max-width":7,"text-padding":3,"text-size":["interpolate",["cubic-bezier",.5,0,1,1],["zoom"],11,["match",["get","type"],"suburb",11,10.5],15,["match",["get","type"],"suburb",17,16]]},paint:{"text-halo-color":"rgb(0, 0, 0)","text-halo-width":1,"text-color":"rgb(133, 133, 133)","text-halo-blur":.5,"text-opacity":0}},{id:"settlement-minor-label",type:"symbol",metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},source:"composite","source-layer":"place_label",maxzoom:15,filter:["all",["<=",["get","filterrank"],3],["match",["get","class"],"settlement",["match",["get","worldview"],["all","US"],!0,!1],"disputed_settlement",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["step",["zoom"],!0,8,[">=",["get","symbolrank"],11],10,[">=",["get","symbolrank"],12],11,[">=",["get","symbolrank"],13],12,[">=",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]]],layout:{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",.2,0,.9,1],["zoom"],3,["step",["get","symbolrank"],12,9,11,10,10.5,12,9.5,14,8.5,16,6.5,17,4],13,["step",["get","symbolrank"],25,9,23,10,21,11,19,12,18,13,17,15,15]],"icon-image":["step",["zoom"],["case",["==",["get","capital"],2],"border-dot-13",["step",["get","symbolrank"],"dot-11",9,"dot-10",11,"dot-9"]],8,""],"text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"text-justify":["step",["zoom"],["match",["get","text_anchor"],["left","bottom-left","top-left"],"left",["right","bottom-right","top-right"],"right","center"],8,"center"],"text-offset":["step",["zoom"],["match",["get","capital"],2,["match",["get","text_anchor"],"bottom",["literal",[0,-.3]],"bottom-left",["literal",[.3,-.1]],"left",["literal",[.45,.1]],"top-left",["literal",[.3,.1]],"top",["literal",[0,.3]],"top-right",["literal",[-.3,.1]],"right",["literal",[-.45,0]],"bottom-right",["literal",[-.3,-.1]],["literal",[0,-.3]]],["match",["get","text_anchor"],"bottom",["literal",[0,-.25]],"bottom-left",["literal",[.2,-.05]],"left",["literal",[.4,.05]],"top-left",["literal",[.2,.05]],"top",["literal",[0,.25]],"top-right",["literal",[-.2,.05]],"right",["literal",[-.4,.05]],"bottom-right",["literal",[-.2,-.05]],["literal",[0,-.25]]]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],["get","text_anchor"],8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7},paint:{"text-color":["step",["get","symbolrank"],"rgb(163, 163, 163)",11,"rgb(130, 130, 130)",16,"rgb(115, 115, 115)"],"text-halo-color":"rgb(0, 0, 0)","text-halo-width":1,"text-halo-blur":1,"text-opacity":0}},{id:"settlement-major-label",type:"symbol",metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},source:"composite","source-layer":"place_label",maxzoom:15,filter:["all",["<=",["get","filterrank"],3],["match",["get","class"],"settlement",["match",["get","worldview"],["all","US"],!0,!1],"disputed_settlement",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["step",["zoom"],!1,8,["<",["get","symbolrank"],11],10,["<",["get","symbolrank"],12],11,["<",["get","symbolrank"],13],12,["<",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]]],layout:{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",.2,0,.9,1],["zoom"],8,["step",["get","symbolrank"],18,9,17,10,15],15,["step",["get","symbolrank"],28,9,26,10,23,11,21,12,20,13,19,15,16]],"icon-image":["step",["zoom"],["case",["==",["get","capital"],2],"border-dot-13",["step",["get","symbolrank"],"dot-11",9,"dot-10",11,"dot-9"]],8,""],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-justify":["step",["zoom"],["match",["get","text_anchor"],["left","bottom-left","top-left"],"left",["right","bottom-right","top-right"],"right","center"],8,"center"],"text-offset":["step",["zoom"],["match",["get","capital"],2,["match",["get","text_anchor"],"bottom",["literal",[0,-.3]],"bottom-left",["literal",[.3,-.1]],"left",["literal",[.45,.1]],"top-left",["literal",[.3,.1]],"top",["literal",[0,.3]],"top-right",["literal",[-.3,.1]],"right",["literal",[-.45,0]],"bottom-right",["literal",[-.3,-.1]],["literal",[0,-.3]]],["match",["get","text_anchor"],"bottom",["literal",[0,-.25]],"bottom-left",["literal",[.2,-.05]],"left",["literal",[.4,.05]],"top-left",["literal",[.2,.05]],"top",["literal",[0,.25]],"top-right",["literal",[-.2,.05]],"right",["literal",[-.4,.05]],"bottom-right",["literal",[-.2,-.05]],["literal",[0,-.25]]]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],["get","text_anchor"],8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7},paint:{"text-color":["step",["get","symbolrank"],"rgb(163, 163, 163)",11,"rgb(130, 130, 130)",16,"rgb(115, 115, 115)"],"text-halo-color":"rgb(0, 0, 0)","text-halo-width":1,"text-halo-blur":1,"text-opacity":0}},{id:"state-label",type:"symbol",metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},source:"composite","source-layer":"place_label",minzoom:3,maxzoom:9,filter:["match",["get","class"],"state",["match",["get","worldview"],["all","US"],!0,!1],"disputed_state",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],layout:{"text-size":["interpolate",["cubic-bezier",.85,.7,.65,1],["zoom"],4,["step",["get","symbolrank"],10,6,9.5,7,9],9,["step",["get","symbolrank"],24,6,18,7,14]],"text-transform":"uppercase","text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-field":["step",["zoom"],["step",["get","symbolrank"],["coalesce",["get","name_en"],["get","name"]],5,["coalesce",["get","abbr"],["get","name_en"],["get","name"]]],5,["coalesce",["get","name_en"],["get","name"]]],"text-letter-spacing":.15,"text-max-width":6},paint:{"text-color":"rgb(92, 92, 92)","text-halo-color":"rgb(0, 0, 0)","text-halo-width":1}},{id:"country-label",type:"symbol",metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},source:"composite","source-layer":"place_label",minzoom:1,maxzoom:10,filter:["match",["get","class"],"country",["match",["get","worldview"],["all","US"],!0,!1],"disputed_country",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],layout:{"icon-image":"","text-field":["coalesce",["get","name_en"],["get","name"]],"text-line-height":1.1,"text-max-width":6,"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["literal",[0,0]],"text-justify":["step",["zoom"],["match",["get","text_anchor"],["left","bottom-left","top-left"],"left",["right","bottom-right","top-right"],"right","center"],7,"center"],"text-size":["interpolate",["cubic-bezier",.2,0,.7,1],["zoom"],1,["step",["get","symbolrank"],11,4,9,5,8],9,["step",["get","symbolrank"],28,4,22,5,21]]},paint:{"icon-opacity":["step",["zoom"],["case",["has","text_anchor"],1,0],7,0],"text-color":"rgb(97, 97, 97)","text-halo-color":"rgb(0, 0, 0)","text-halo-width":1.25}}],visibility:"private",draft:!1},se={class:"loadingBox"};function pe(e,t,a,r,n,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["loadingContainer",{loadStart:a.loadStart}])},[Object(o["createElementVNode"])("div",se,[Object(o["createElementVNode"])("div",{style:Object(o["normalizeStyle"])({"background-color":n.sectionColor[a.currStep]})},null,4),Object(o["createElementVNode"])("div",{style:Object(o["normalizeStyle"])({"background-color":n.sectionColor[a.currStep]})},null,4),Object(o["createElementVNode"])("div",{style:Object(o["normalizeStyle"])({"background-color":n.sectionColor[a.currStep]})},null,4)])],2)}var de=["#a8d3d8","#6b888c","#4f5767","#6b6f88","#b1a5c8","#98a5b7","#c19a8e"],me={props:{loadStart:{type:Boolean,default:!1},currStep:{type:String,default:""}},data:function(){return{sectionColor:de}}};a("4313");const ue=s()(me,[["render",pe]]);var ge=ue,be={class:"popupHeader"},ye={class:"popupBox"},he={key:0};function fe(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("header",be,"此位置共有"+Object(o["toDisplayString"])(e.featuresData.length)+"項事故紀錄",1),Object(o["createElementVNode"])("div",ye,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.featuresData,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t,class:"featuresDataBox"},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.properties,(function(e,t){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t},["IncidentLocation"!=t?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",he,Object(o["toDisplayString"])(t),1)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(e),1)],512)),[[o["vShow"],"Timestamp"!=t]])})),128))])})),128))])],64)}a("c730");const xe={},we=s()(xe,[["render",fe]]);var ke=we,ve="pk.eyJ1IjoiaW5ncmlka2FvIiwiYSI6ImNrdTNobXJydzJybWcydXA4Nnp0b2lqaGkifQ.fwVH4L2urj3Iv4jrV2D5Zw",ze="https://ingridkao.github.io/ScrollStoryMapBox",_e=a("3f90"),je=11.5,Oe={init:[121.5019207529167,25.046374395604346],accident_myself:[121.52182057499886,25.061724897839177],center:[121.52469452147875,25.049589606912605]},Se={data:function(){return{MapBoxObject:null,mapLoading:!1}},mounted:function(){this.initMapBox()},destroyed:function(){},components:{Loading:ge,MapboxPopup:ke},props:{currStep:{type:String,default:""},opacity:{type:Number,default:1},timeInterval:{type:Object,default:function(){return{}}}},computed:{},watch:{currStep:function(e,t){e!=t&&this.currStepWatchHandler(e)},timeInterval:{handler:function(e){var t=null,a=oe;e.start&&e.end&&(t=["any",["!",["has","Timestamp"]],["all",["has","Timestamp"],[">=",["get","Timestamp"],e.start],["<=",["get","Timestamp"],e.end]]],a=re),this.MapBoxObject.getLayer("taipei_accident")&&this.MapBoxObject.setFilter("taipei_accident",t),this.MapBoxObject.getLayer("taipei_accident_heat_layer")&&(this.MapBoxObject.setFilter("taipei_accident_heat_layer",t),this.MapBoxObject.setPaintProperty("taipei_accident_heat_layer","heatmap-intensity",a["heatmap-intensity"]),this.MapBoxObject.setPaintProperty("taipei_accident_heat_layer","heatmap-radius",a["heatmap-radius"]))},deep:!0,immediate:!1}},methods:{initMapBox:function(){var e=this;G.a.accessToken=ve,this.MapBoxObject=new G.a.Map({antialias:!0,container:"mapboxBox",style:ce,center:Oe.init,maxBounds:[[121.3870596781498,24.95733863075891],[121.6998231749096,25.21179993640203]],zoom:je,minZoom:11,maxZoom:20}),this.MapBoxObject.addControl(new G.a.NavigationControl),"loaded"!==G.a.getRTLTextPluginStatus()&&G.a.setRTLTextPlugin("".concat(ze,"/js/mapbox-gl-rtl-text.js")),this.MapBoxObject.addControl(new _e({defaultLanguage:"zh-Hant"})),this.MapBoxObject.on("load",(function(){e.mapLoading=!0,e.loadDataToMapbox()})),this.MapBoxObject.on("idle",(function(){e.mapLoading=!1}))},loadDataToMapbox:function(){var e=this;this.MapBoxObject.addLayer(q);var t=J.a.get("".concat(ze,"/data/taipei_town.geojson")),a=J.a.get("".concat(ze,"/data/taipei_village.geojson")),r=J.a.get("".concat(ze,"/data/accident.geojson")),n=J.a.get("".concat(ze,"/data/track_work.geojson")),i=J.a.get("".concat(ze,"/data/track_offwork.geojson")),l=J.a.get("".concat(ze,"/data/track_work_2.geojson")),c=J.a.get("".concat(ze,"/data/track_offwork_2.geojson")),s=J.a.get("".concat(ze,"/data/accident_myself.geojson"));J.a.all([t,a,r,n,i,l,c,s]).then(J.a.spread((function(t,a,o,r,n,i,l,c){e.MapBoxObject.addSource("taipei_town",{type:"geojson",data:t.data}).addLayer(X),e.MapBoxObject.addSource("taipei_village",{type:"geojson",data:a.data}).addLayer(K),e.MapBoxObject.addSource("taipei_accident",{type:"geojson",data:o.data}).addLayer(ae),e.MapBoxObject.addSource("taipei_accident_heat",{type:"geojson",data:o.data}).addLayer(ne),e.MapBoxObject.addSource("work_track",{type:"geojson",data:r.data}).addLayer(Object(H["a"])({id:"work_track",source:"work_track"},le)),e.MapBoxObject.addSource("offwork_track",{type:"geojson",data:n.data}).addLayer(Object(H["a"])({id:"offwork_track",source:"offwork_track"},le)),e.MapBoxObject.addSource("work_track_old",{type:"geojson",data:i.data}).addLayer(Object(H["a"])({id:"work_track_old",source:"work_track_old"},le)),e.MapBoxObject.addSource("offwork_track_old",{type:"geojson",data:l.data}).addLayer(Object(H["a"])({id:"offwork_track_old",source:"offwork_track_old"},le)),e.MapBoxObject.addSource("my_accident",{type:"geojson",data:c.data}).addLayer(ie)}))),this.MapBoxObject.on("click","taipei_accident",(function(t){var a=t.features;(new G.a.Popup).setLngLat(t.lngLat).setHTML('<div id="popup-content"></div>').addTo(e.MapBoxObject);var r=Object(o["defineComponent"])({extends:ke,setup:function(){return{featuresData:a}}});Object(o["nextTick"])((function(){Object(o["createApp"])(r).mount("#popup-content")}))})),this.MapBoxObject.on("click",(function(t){e.MapBoxObject.getCanvas().style.cursor="pointer"}))},toggleHeatMap:function(e){var t=e?"visible":"none";this.MapBoxObject.getLayer("taipei_accident_heat_layer")&&this.MapBoxObject.setLayoutProperty("taipei_accident_heat_layer","visibility",t)},toggleWorkTrackPath:function(e,t){var a=e?"visible":"none",o=t?"#efe99d":"#97b5b2";this.MapBoxObject.getLayer("work_track")&&(this.MapBoxObject.setLayoutProperty("work_track","visibility",a),this.MapBoxObject.setPaintProperty("work_track","line-color",o)),this.MapBoxObject.getLayer("work_track_old")&&(this.MapBoxObject.setLayoutProperty("work_track_old","visibility",a),this.MapBoxObject.setPaintProperty("work_track_old","line-color",o))},toggleWorkoffTrackPath:function(e,t){var a=e?"visible":"none",o=t?"#53b7c4":"#97b5b2";this.MapBoxObject.getLayer("offwork_track")&&(this.MapBoxObject.setLayoutProperty("offwork_track","visibility",a),this.MapBoxObject.setPaintProperty("offwork_track","line-color",o)),this.MapBoxObject.getLayer("offwork_track_old")&&(this.MapBoxObject.setLayoutProperty("offwork_track_old","visibility",a),this.MapBoxObject.setPaintProperty("offwork_track_old","line-color",o))},currStepWatchHandler:function(e){switch(e){case"0":this.toggleHeatMap(!0),this.toggleWorkTrackPath(!1),this.toggleWorkoffTrackPath(!1),this.MapBoxObject.getLayer("taipei_accident")&&this.MapBoxObject.setPaintProperty("taipei_accident","circle-color","#32d0c2").setPaintProperty("taipei_accident","circle-radius",te),this.MapBoxObject.easeTo({center:Oe.init,bearing:0,pitch:0,zoom:je,duration:5e3});break;case"1":this.toggleHeatMap(!0),this.toggleWorkTrackPath(!0,!1),this.toggleWorkoffTrackPath(!0,!1),this.MapBoxObject.getLayer("taipei_accident")&&this.MapBoxObject.setPaintProperty("taipei_accident","circle-color","#32d0c2").setPaintProperty("taipei_accident","circle-radius",te),this.MapBoxObject.easeTo({center:Oe.accident_myself,bearing:15,pitch:60,zoom:je+1,duration:5e3});break;case"2":this.toggleHeatMap(!1),this.$emit("update",{}),this.MapBoxObject.getLayer("my_accident")&&this.MapBoxObject.setLayoutProperty("my_accident","visibility","visible"),this.MapBoxObject.getLayer("taipei_accident")&&this.MapBoxObject.setPaintProperty("taipei_accident","circle-color",["match",["get","Weather"],"晴","#cab138","陰","#2ec7a5","強風","#f1839c","雨","#9fd7fd","暴雨","#38adff","#ddd"]).setPaintProperty("taipei_accident","circle-radius",ee),this.MapBoxObject.easeTo({center:[121.527091458163,25.06582409471467],bearing:45,pitch:75,zoom:je+1.5,duration:5e3});break;case"3":this.toggleHeatMap(!0),this.toggleWorkTrackPath(!1),this.toggleWorkoffTrackPath(!1),this.MapBoxObject.getLayer("taipei_accident")&&this.MapBoxObject.setPaintProperty("taipei_accident","circle-color","#32d0c2").setPaintProperty("taipei_accident","circle-radius",te),this.MapBoxObject.easeTo({center:Oe.init,bearing:0,pitch:0,zoom:je+.5,duration:5e3});break;case"4":this.toggleHeatMap(!1),this.MapBoxObject.getLayer("taipei_accident")&&this.MapBoxObject.setPaintProperty("taipei_accident","circle-color",["match",["get","DealType"],"A1類交通事故","#d4b24c","A2類交通事故","#8989ad","#ddd"]).setPaintProperty("taipei_accident","circle-radius",["match",["get","DealType"],"A1類交通事故",2.5,"A2類交通事故",1.5,1]),this.$emit("update",{}),this.MapBoxObject.easeTo({center:Oe.accident_myself,bearing:0,pitch:0,zoom:je+1.5,duration:5e3});break;case"5":this.toggleWorkTrackPath(!0,!1),this.toggleWorkoffTrackPath(!0,!1),this.MapBoxObject.getLayer("taipei_accident")&&this.MapBoxObject.setPaintProperty("taipei_accident","circle-color",["match",["get","CarType"],"自用小客車","#b0a5ca","大型重型機車1(550C.C.以上)","#338daf","大型重型機車2(250-550C.C.)","#64c59d","乘客","#94d075","普通重型機車","#7f385c","腳踏自行車與其他","#7f4238","行人","#c38378","#ddd"]).setPaintProperty("taipei_accident","circle-radius",ee),this.MapBoxObject.easeTo({center:Oe.center,bearing:-40,pitch:60,zoom:je+2,duration:5e3});break;default:break}}}};a("a183");const Le=s()(Se,[["render",W],["__scopeId","data-v-2753e5f0"]]);var Ce=Le;function Me(e,t,a,r,n,i){var l=Object(o["resolveComponent"])("highcharts");return Object(o["openBlock"])(),Object(o["createBlock"])(l,{options:n.chartOptions,class:Object(o["normalizeClass"])([{dark:n.darkMode},"highchartsBox"])},null,8,["options","class"])}var Be={data:function(){return{darkMode:!0,chartOptions:{chart:{type:"bar"},credits:{enabled:!1},title:{text:"交通事故發生區域",style:{fontSize:"12px"}},plotOptions:{series:{color:"#718e93"}},xAxis:{categories:["內湖","北投","中山","大安","大同","文山","萬華","士林","南港","中正","信義","松山"],title:{text:null}},yAxis:{title:{text:"件數"},labels:{overflow:"justify"}},series:[{showInLegend:!1,name:"交通事故",data:[4668,5165,6441,4871,3465,4836,4127,4129,2009,5351,5524,2760]}]}}}};a("75ed");const Ne=s()(Be,[["render",Me]]);var Pe=Ne;function Te(e,t,a,r,n,i){var l=Object(o["resolveComponent"])("highcharts");return Object(o["openBlock"])(),Object(o["createBlock"])(l,{options:n.chartOptions,class:Object(o["normalizeClass"])([{dark:n.darkMode},"highchartsBox"])},null,8,["options","class"])}a("c740"),a("99af");var Re=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],Ee={data:function(){var e=this;return{darkMode:!0,chartOptions:{chart:{type:"spline"},title:{text:"交通事故月份分佈"},credits:{enabled:!1},xAxis:{categories:Re},yAxis:{title:{text:"件數"}},plotOptions:{series:{color:"#ad5a5a",cursor:"pointer",point:{events:{click:function(t){var a=t.point,o=a.category,r=a.y,n=Re.findIndex((function(e){return e===o})),i=n<9?"0".concat(n+1):n+1,l=e.$dayjs("2019".concat(i),"YYYYMM"),c=e.$dayjs("2019".concat(i,"01"),"YYYYMMDD"),s=e.$dayjs("2019".concat(i).concat(l.daysInMonth()),"YYYYMMDD");e.$emit("update",{category:o,start:c.unix(),end:s.unix(),count:r})}}}}},series:[{name:"交通事故",data:[4721,3413,4169,4144,4267,3916,4473,4224,4355,4664,4962,5110]}]}}}};a("fb5c");const Ve=s()(Ee,[["render",Te]]);var Ae=Ve;function Ue(e,t,a,r,n,i){var l=Object(o["resolveComponent"])("highcharts");return Object(o["openBlock"])(),Object(o["createBlock"])(l,{options:n.chartOptions,class:Object(o["normalizeClass"])([{dark:n.darkMode},"highchartsPieBox"])},null,8,["options","class"])}var De={data:function(){return{darkMode:!0,chartOptions:{chart:{type:"pie",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},credits:{enabled:!1},title:{text:null},plotOptions:{pie:{allowPointSelect:!0,showInLegend:!0,cursor:"pointer",colors:["#cab138","#2ec7a5","#f1839c","#9fd7fd","#38adff","#ddd"]}},xAxis:{categories:["晴","陰","強風","雨","暴雨","其他"],title:{text:null}},series:[{name:"件數",colorByPoint:!0,data:[{name:"晴",y:35511},{name:"陰",y:8639},{name:"強風",y:2},{name:"雨",y:8214},{name:"暴雨",y:59},{name:"其他",y:4}]}]}}}};a("9fdc");const Ie=s()(De,[["render",Ue]]);var Ye=Ie;function We(e,t,a,r,n,i){var l=Object(o["resolveComponent"])("highcharts");return Object(o["openBlock"])(),Object(o["createBlock"])(l,{options:n.chartOptions,class:Object(o["normalizeClass"])([{dark:n.darkMode},"highchartsBox"])},null,8,["options","class"])}var He={data:function(){return{darkMode:!0,chartOptions:{chart:{type:"bar"},credits:{enabled:!1},title:{text:"道路類型",style:{fontSize:"12px"}},plotOptions:{series:{borderColor:"#464d7d",stacking:"normal"},bar:{dataLabels:{enabled:!0}}},colors:["#d4b24c","#8989ad"],xAxis:{categories:["四岔路","直路","三岔路","多岔路","其他","彎曲路及附近","橋樑","巷弄","高架道路","圓環","坡路","隧道","地下道","涵洞","廣場"],title:{text:null}},yAxis:{title:{text:null}},series:[{name:"A1類",data:[70,51,36,16,6,26,0,6,10,2,77,0,2,0,2]},{name:"A2類",data:[18867,18419,9478,1875,1286,744,561,337,268,138,77,71,62,21,2]}]}}}};a("8b34");const Fe=s()(He,[["render",We]]);var Ge=Fe;function Ze(e,t,a,r,n,i){var l=Object(o["resolveComponent"])("highcharts");return Object(o["openBlock"])(),Object(o["createBlock"])(l,{options:n.chartOptions,class:Object(o["normalizeClass"])([{dark:n.darkMode},"highchartsBox"])},null,8,["options","class"])}var Je={data:function(){return{darkMode:!0,chartOptions:{chart:{type:"column"},credits:{enabled:!1},title:{text:"道路類型",style:{fontSize:"12px"}},colors:["#b0a5ca","#338daf","#64c59d","#94d075","#7f385c","#7f4238","#c38378"],xAxis:{title:{text:null},categories:["四岔路","直路","巷弄","三岔路","彎曲路及附近","其他","高架道路及橋樑","圓環及地下道"]},yAxis:{title:{text:null},min:1},series:[{name:"自用小客車",data:[0,0,0,1,0,1,0,0]},{name:"大型重型機車1(550C.C.以上)",data:[2,0,11,0,0,0,1,0]},{name:"大型重型機車2(250-550C.C.)",data:[2,0,0,1,0,1,2,0]},{name:"乘客",data:[2,0,0,1,0,0,2,0]},{name:"普通重型機車",data:[7,13,1,5,4,1,1,2]},{name:"腳踏自行車與其他",data:[5,2,0,1,2,0,0,0]},{name:"行人",data:[14,8,2,3,1,1,2,0]}]}}}};a("b42e");const $e=s()(Je,[["render",Ze]]);var Qe=$e,qe={name:"Home",mounted:function(){this._scroller=U()(),this.setup()},beforeDestroy:function(){this._scroller.destroy()},data:function(){return{sectionColor:de,currStep:null,currStepProgress:0,activeTimeInterval:{}}},components:{MapBox:Ce,DistLineChart:Pe,HistoryLineChart:Ae,WeatherPieChart:Ye,RoadTypeChart:Ge,DeathCarTypeChart:Qe},computed:{opts:function(){return Object.assign({},{step:Array.from(this.$refs.scrollama_container.childNodes),progress:!0},this.$attrs)}},methods:{setup:function(){var e=this;this._scroller.destroy(),this._scroller.setup(this.opts).onStepProgress((function(t){var a=t.progress;e.currStepProgress=Math.floor(100*a)/100/2+.5})).onStepEnter((function(t){var a=t.element;e.currStep=a.dataset.stepNo})).onStepExit((function(t){var a=t.element;e.currStep=a.dataset.stepNo})),window.addEventListener("resize",this.handleResize)},handleResize:function(){this._scroller.resize()},updateActiveTimeInterval:function(e){this.activeTimeInterval=e}}};a("d789");const Xe=s()(qe,[["render",V]]);var Ke=Xe,et=[{path:"/",name:"Home",component:Ke},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],tt=Object(u["a"])({history:Object(u["b"])("/ScrollStoryMapBox/"),routes:et}),at=tt,ot=a("5502"),rt=Object(ot["a"])({state:{},mutations:{},actions:{},modules:{}}),nt=a("5a0c"),it=a.n(nt),lt=a("ea7f"),ct=a.n(lt),st=a("67d5"),pt=a.n(st),dt=a("4452"),mt=a.n(dt);pt()(ct.a);var ut=Object(o["createApp"])(m);ut.use(rt).use(at).use(mt.a),ut.config.globalProperties.$dayjs=it.a,ut.mount("#app")},"614f":function(e,t,a){},"6b2c":function(e,t,a){"use strict";a("e038")},"75ed":function(e,t,a){"use strict";a("3136")},"8b34":function(e,t,a){"use strict";a("d70b")},"9fdc":function(e,t,a){"use strict";a("a294")},a183:function(e,t,a){"use strict";a("38a5")},a294:function(e,t,a){},a41d:function(e,t,a){},b42e:function(e,t,a){"use strict";a("4dcf")},c730:function(e,t,a){"use strict";a("0ce7")},d70b:function(e,t,a){},d789:function(e,t,a){"use strict";a("614f")},e038:function(e,t,a){},fb5c:function(e,t,a){"use strict";a("a41d")}});
//# sourceMappingURL=app.8db54fac.js.map